<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="author" content="Lawrence Logoh" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@lawrencelogoh" />
    <meta property="twitter:title" content=" Building a static site generator  "/>
    <meta property="twitter:image" content="https://lawrencelogoh.com/theme/static/logo.png" />
    <meta property="twitter:image:alt" content="Lawrence Logoh's Logo" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=1"
      />


    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap"
      rel="stylesheet"
      />
    
    <link href=/theme/static/style.css rel="stylesheet" />
    <title> Building a static site generator  </title>
  </head>
  <body>
    <nav>
  <a href="/">Home</a>
  <a href="/blog/">Blog</a>
  <a href="/theme/static/cv.pdf">CV</a>
  <a href="/rss.xml">RSS</a>
</nav>

    <h1 id="name"> Building a static site generator  </h1>
    

<article>
  <p>
What I was using is <a href="https://github.com/lawrencelogoh/lawrencelogoh.github.io/blob/921d8d1012f73c6298b7d5412404b0f7b2a33ed/build">a badly written bash script that depends on pup and pandoc</a>.
I don't mind the pandoc dependency too much as I have it on all my systems anyway. 
But the script is messy and I'd rather have something cleaner.
</p>
<div id="outline-container-why-not-just-use-x" class="outline-2">
<h2 id="why-not-just-use-x">"Why not just use x?"</h2>
<div class="outline-text-2">
<p>
Most of the static site generators I've seen like Hugo and Jekyll seem too complicated for me.
I'm not saying I can't use them, I just felt some friction and thought it would be cool to build my own.
</p>

<p>
My requirements for the current script were:
</p>
<ul class="org-ul">
<li>Must have as few dependencies as possible.</li>
<li>Must work on UNIX/UNIX-like systems</li>
<li>Must generate an RSS file with all blog posts</li>
<li>Must arrange blog posts by date</li>
</ul>

<p>
I didn't put too much thought into how the old script worked.
I started by writing a function that compiles the markdown files of my blog posts.
Everything else came after that.
Whenever I hit a roadblock, I looked for a program that could help me.
In the end, I had a hacky script that worked but I wasn't proud of it.
I also started to run into problems when I wanted to add new functionality or change something.
</p>

<p>
<a href="https://github.com/lawrencelogoh/lawrencelogoh.github.io/blob/9c27fe701fb522f936147f5ad5fbd01a02f7ad13/build">The current script</a> is not as bad.
The way that it works is, it assumes every directory(including the root directory) has an <code>src</code> subdirectory.
It compiles every markdown file in the <code>src</code> subdirectories to HTML files that live in the directory itself.
To get away with not creating an <code>index.html</code> I create an <code>index.md</code> instead and that gets compiled like every other markdown file.
That's the core of how it works.
If you want the details, read the script.
</p>


<p>
I'm happy with how it works right now but there's a minor annoyance I have with it.
The blog posts are arranged according to their dates by putting the date
in the file name.
</p>

<p>
<i>Yuck</i>.<sup><a id="fnr.1" class="footref" href="#fn.1" role="doc-backlink">1</a></sup>
</p>

<p>
I tried using an associative array to do it at first, but I found it difficult to sort the dates with the sort program.
I'll figure it out eventually.
</p>


<p>
If you have any suggestions email me or send a pull request :).
</p>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1" role="doc-backlink">1</a></sup> <div class="footpara" role="doc-footnote"><p class="footpara">
I have since implemented what I call "ghetto sorting". It's not pretty but it works
</p></div></div>


</div>
</div>
</article>


    <footer>
      <p>
        The content for this site is
        <a
          class="footer-link"
          href="https://creativecommons.org/licenses/by-sa/4.0/"
          >CC BY-SA</a
        >
	</br>

        The
        <a
          class="footer-link"
          href="https://github.com/lawrencelogoh/lawrencelogoh.github.io"
          >code</a
        >
        is
        <a
          class="footer-link"
          href="https://opensource.org/licenses/BSD-2-Clause"
          >BSD-2-Clause</a
        >
      </p>
    </footer>
  </body>

  <script src=/theme/static/main.js></script>
  
  <script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="lawrencelogoh" data-description="Support me on buy me a coffee" data-message="Your money or your life" data-color="#40DCA5" data-position="Right" data-x_margin="18" data-y_margin="18"></script>
 
</html>
